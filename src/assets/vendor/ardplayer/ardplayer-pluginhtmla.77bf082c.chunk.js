(window.webpackJsonpardplayer=window.webpackJsonpardplayer||[]).push([[4],{515:function(e,t,i){"use strict";i.d(t,"a",(function(){return p}));var r,s,n,a,o,h=i(0),l=i(169),d=i.n(l),u=i(9),v=function(e,t,i,r){var s,n=arguments.length,a=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(n<3?s(a):n>3?s(t,i,a):s(t,i))||a);return n>3&&a&&Object.defineProperty(t,i,a),a},m=function(e,t,i,r){return new(i||(i=Promise))((function(s,n){function a(e){try{h(r.next(e))}catch(e){n(e)}}function o(e){try{h(r.throw(e))}catch(e){n(e)}}function h(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,o)}h((r=r.apply(e,t||[])).next())}))},c=function(e,t,i,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,i):s?s.value=i:t.set(e,i),i},f=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},p=class{constructor(e,t,i){this.hasDvr=!1,this.endTime=0,this.lastSegmentIndex=0,this.lastCurrentTime=0,this.lastDuration=0,this.dvrDuration=0,this.durationDelta=0,this.segmentDuration=0,this.liveSyncDurationCount=3,this.lastMediaSequence=null,this.lastNumSegments=0,this.growingWindow=!1,this.initialTimestamp=0,this.dvrData=null,this.dvrToDateSync=null,r.set(this,""),s.set(this,null),n.set(this,null),a.set(this,-1),o.set(this,null),this.player=e,this.mediaElement=t,this.playerCtrl=i,this.emap=new d.a}initStream(e){c(this,r,e,"f"),this.loadManifest(e,!0,(e=>{c(this,s,e,"f"),this.loadManifest(this.getSegmentsUrl(),!1,(e=>{c(this,n,e,"f"),this.hasDvr=e.isLive||e.duration>60,this.endTime=e.duration,this.dvrDuration=e.duration,this.segmentDuration=e.targetDuration,this.hasDvr=e.isLive||e.duration>60,this.initialTimestamp=Math.floor(Date.now()/1e3),this.lastSegmentIndex=e.segmentsList[e.segmentsList.length-1].index,this.emap.map(this.mediaElement,"timeupdate",this.handleVideoTimeUpdate,this),this.emap.map(this.mediaElement,"durationchange",this.handleVideoDurationChange,this),this.dispatchDVRInfo(),this.startManifestTimeout()}))}))}getSegmentsUrl(){var e,t,i=null!==(t=null===(e=f(this,s,"f"))||void 0===e?void 0:e.streams[0].url)&&void 0!==t?t:"";if(Object(h.k)(f(this,r,"f"))||/^http/.test(i))return i;if(!i.includes("/")){var n=f(this,r,"f").split("/");return n.pop(),n.join("/")+"/"+i}var a=new URL(f(this,r,"f"));return a.protocol+"//"+a.host+i}loadManifest(e,t,i){fetch(e).then((e=>m(this,void 0,void 0,(function*(){return yield e.text()})))).then((e=>{try{this.player.checkState()}catch(e){return void console.warn("aborting async",e)}var t=new g(e);i&&i(t.parse())})).catch((e=>{var r,n,o,h;try{this.player.checkState()}catch(e){return void console.warn("aborting async",e)}t?(this.hasDvr=!1,clearTimeout(f(this,a,"f"))):(null===(n=null===(r=f(this,s,"f"))||void 0===r?void 0:r.streams)||void 0===n?void 0:n.length)>1?(null===(h=null===(o=f(this,s,"f"))||void 0===o?void 0:o.streams)||void 0===h||h.shift(),this.loadManifest(this.getSegmentsUrl(),!1,i)):(this.hasDvr=!1,clearTimeout(f(this,a,"f")))}))}startManifestTimeout(){var e,t;clearTimeout(f(this,a,"f")),c(this,a,this.player.safeTimeout((()=>{this.loadManifest(this.getSegmentsUrl(),!1,(e=>{c(this,n,e,"f"),this.hasDvr=e.isLive||e.duration>60;var t,i,r=this.endTime;for(t=0;t<e.segmentsList.length;++t)(i=e.segmentsList[t]).index>this.lastSegmentIndex&&(this.endTime+=i.duration);this.lastSegmentIndex=e.segmentsList[e.segmentsList.length-1].index,this.endTime!==r&&this.handleVideoDurationChange(),this.setDvrToDateSync(),this.startManifestTimeout()}))}),1e3*(null!==(t=null===(e=f(this,n,"f"))||void 0===e?void 0:e.targetDuration)&&void 0!==t?t:5)),"f")}dispatchDVRInfo(){if(null!==f(this,n,"f")){this.lastCurrentTime<Math.round(this.getVideoTime())&&++this.durationDelta;var e=f(this,n,"f").firstProgTime,t=f(this,n,"f").lastProgTime;null==this.lastMediaSequence?(this.lastMediaSequence=f(this,n,"f").mediaSequence,this.lastNumSegments=f(this,n,"f").numSegments):this.lastMediaSequence===f(this,n,"f").mediaSequence?f(this,n,"f").numSegments>this.lastNumSegments&&(this.lastNumSegments=f(this,n,"f").numSegments,this.growingWindow=!0):this.growingWindow=!1,this.growingWindow&&(this.dvrDuration=(t-e)/1e3,this.endTime=this.dvrDuration);var i,r=this.dvrDuration-this.segmentDuration*this.liveSyncDurationCount,s=r+this.durationDelta,a=this.getVideoTime(),o=s-a<=this.segmentDuration*this.liveSyncDurationCount+this.segmentDuration;i=this.growingWindow?e/1e3+this.mediaElement.currentTime:this.initialTimestamp-(this.dvrDuration-this.segmentDuration*this.liveSyncDurationCount)+this.mediaElement.currentTime,this.dvrData={dvrDuration:r,currentTime:a,duration:s,liveTimestamp:i,start:e,end:t,isLive:o},this.setDvrToDateSync()}}setDvrToDateSync(){var e,t,i,r=null!==(t=null===(e=f(this,n,"f"))||void 0===e?void 0:e.firstProgTime)&&void 0!==t?t:0,s=this.getVideoTime();i=this.growingWindow?r/1e3+this.mediaElement.currentTime:this.initialTimestamp-this.dvrDuration+this.mediaElement.currentTime,this.dvrToDateSync={rel:s,real:1e3*i,at:Date.now()},this.onDVRCallback()}getVideoTime(){return Math.max(0,this.mediaElement.currentTime-(this.endTime-this.dvrDuration))}getVideoDuration(){return this.endTime}getCurrentDuration(){return this.dvrDuration-this.segmentDuration*this.liveSyncDurationCount+this.durationDelta}seek(e){this.mediaElement.currentTime=Math.max(1,Math.min(this.endTime,e))+this.endTime-this.dvrDuration}seekToLive(){this.playerCtrl.bufferingEventHandler(!0),this.mediaElement.load(),this.initStream(f(this,r,"f"))}onDVRCallback(){var e,t,i,r,s;null!==f(this,o,"f")&&f(this,o,"f").dvrEnabled===this.hasDvr&&f(this,o,"f").dvrDuration===(null===(e=this.dvrData)||void 0===e?void 0:e.dvrDuration)&&f(this,o,"f").dvrIsLive===this.dvrData.isLive||(c(this,o,{dvrEnabled:this.hasDvr,dvrDuration:null===(t=this.dvrData)||void 0===t?void 0:t.dvrDuration,dvrIsLive:null===(i=this.dvrData)||void 0===i?void 0:i.isLive},"f"),this.playerCtrl.onDVRCallback(this.hasDvr,null===(r=this.dvrData)||void 0===r?void 0:r.dvrDuration,null===(s=this.dvrData)||void 0===s?void 0:s.isLive))}dispose(){this.emap.all(),clearTimeout(f(this,a,"f"))}handleVideoTimeUpdate(){this.dispatchDVRInfo(),this.lastCurrentTime=Math.round(this.getVideoTime())}handleVideoDurationChange(){var e=Math.round(this.endTime);this.durationDelta=0,this.lastDuration!==e&&(this.lastDuration=e,this.dispatchDVRInfo())}};r=new WeakMap,s=new WeakMap,n=new WeakMap,a=new WeakMap,o=new WeakMap,p=v([u.a],p);class g{constructor(e){this.text=e}parse(){var e,t=this.text.split("\n"),i={keyInfo:{},firstProgTime:0,lastProgTime:0,streams:[],segments:{},segmentsList:[],mediaSequence:0,duration:0,isLive:!0,targetDuration:0,numSegments:0},r=!1,s=i.mediaSequence,n={},a=0,o=0;return t.forEach((t=>{var h,l,d,u,v;r&&(n.url=t,i.streams.push(n),n={},r=!1),0===t.indexOf("#EXT-X-PROGRAM-DATE-TIME:")&&(e=new Date(t.substr("#EXT-X-PROGRAM-DATE-TIME:".length)).getTime(),0===a&&(a=e),o=new Date(t.substr("#EXT-X-PROGRAM-DATE-TIME:".length)).getTime()),t.startsWith("#EXT-X-STREAM-INF")&&(r=!0),t.startsWith("#EXT-X-ENDLIST")&&(i.isLive=!1),t.startsWith("#EXT-X-KEY")&&(i.keyInfo=t.replace("#EXT-X-KEY:","").split(",").reduce(((e,t)=>{var i=t.indexOf("="),r=t.substring(0,i),s=t.substring(i+1);return e[r]=s.replace(/"/g,""),e}),{}));var m=/^#EXT-X-TARGETDURATION:?(-?[0-9.]*)?/.exec(t);(null==m?void 0:m[1])&&(i.targetDuration=parseInt(m[1],10));var c=/^#EXT-X-STREAM-INF:.*BANDWIDTH=(\d*)?/.exec(t);""!==(null!==(h=null==c?void 0:c[1])&&void 0!==h?h:"")&&(n.bandwidth=null==c?void 0:c[1]);var f=/^#EXT-X-STREAM-INF:.*RESOLUTION=(\d*x\d*)?/.exec(t);if(""!==(null!==(l=null==f?void 0:f[1])&&void 0!==l?l:"")){var p=null==f?void 0:f[1].split("x");!p||p.length<2?n.resolution={width:0,height:0}:n.resolution={width:parseInt(p[0],10),height:parseInt(p[1],10)}}var g=/^#EXTINF:?([0-9.]*)?,?(.*)?/.exec(t);""!==(null!==(d=null==g?void 0:g[1])&&void 0!==d?d:"")&&(e=parseFloat(null!==(u=null==g?void 0:g[1])&&void 0!==u?u:""),i.segments[s]=e,i.segmentsList.push({index:s,duration:e}),s+=1,i.duration+=e,++i.numSegments,0!==o&&(o+=1e3*e));var T=/^#EXT-X-MEDIA-SEQUENCE:?(-?[0-9.]*)?/.exec(t),D=null!==(v=null==T?void 0:T[1])&&void 0!==v?v:"";""!==D&&(i.mediaSequence=parseInt(D,10),s=parseInt(D,10))})),i.firstProgTime=a,i.lastProgTime=o,i}}},545:function(e,t,i){"use strict";i.r(t);var r,s,n=i(502),a=i(515),o=i(28),h=i(10),l=i(0),d=i(9),u=function(e,t,i,r){var s,n=arguments.length,a=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,r);else for(var o=e.length-1;o>=0;o--)(s=e[o])&&(a=(n<3?s(a):n>3?s(t,i,a):s(t,i))||a);return n>3&&a&&Object.defineProperty(t,i,a),a},v=function(e,t,i,r,s){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!s)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?s.call(e,i):s?s.value=i:t.set(e,i),i},m=function(e,t,i,r){if("a"===i&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?r:"a"===i?r.call(e):r?r.value:t.get(e)},c=class extends n.a{constructor(e,t){super(e,t),r.set(this,0),s.set(this,!1),this.streamResetUrl="javascript:void(0)",navigator.userAgent.match(/Safari/i)&&!navigator.userAgent.match(/Chrome/i)&&this.mc.isLive&&this.pc.generic.isDvrEnabled&&(this.dvrUtil=new a.a(e,t,this))}addSource(e){var t,i;null===(i=null===(t=this.player)||void 0===t?void 0:t.pixelController)||void 0===i||i.loadStream(e.url);var r=e.url.toLowerCase();h.a.instance.browserIsSafari&&this._pendingSeek>0&&(e.url+="#t="+this._pendingSeek,this._pendingSeek=0,this.__seeking=!0);var s=t=>{var i=document.createElement("source");i.src=e.url,i.type=t,this.mediaElement.appendChild(i),this.emap.map(i,"error",this.onSourceError,this)};switch(!0){case r.indexOf(".mp3")>0:s("audio/mpeg");break;case r.indexOf(".ogg")>0:s("audio/ogg");break;case r.indexOf(".wav")>0:s("audio/x-wav");break;case r.indexOf(".m3u8")>0:s("audio/x-mpegurl");break;case!Object(l.k)(e.mimeType):s(e.mimeType);break;default:this.handleError('Unknown mimetype "'+e.mimeType+'" for stream '+r)}this.dvrUtil&&this.dvrUtil.initStream(e.url)}play(){this.isNonDvrLive()&&this.model.playstate===o.a.PLAYSTATE_PAUSED&&this.seekToLive(),v(this,r,Date.now(),"f"),v(this,s,!1,"f"),super.play()}isNonDvrLive(){return this.mc.isLive&&!this.mediaElement.webkitCurrentPlaybackTargetIsWireless&&!this.pc.generic.isDvrEnabled}pause(){if(this.isNonDvrLive()){var e=this.mediaElement.querySelector("source");if(e)return console.info("stopping non-dvr live stream"),this.emap.unmap(e,"error",this.onSourceError,this),e.dataset.src=e.src,e.dataset.type=e.type,e.src=this.streamResetUrl,e.type="void",this.mediaElement.pause(),void this.player.safeTimeout((()=>{this.mediaElement.load()}))}super.pause()}seekToLive(){var e,t;if(this.isNonDvrLive()){var i=this.mediaElement.querySelector("source");if(i&&i.src===this.streamResetUrl){console.info("seekToLive on non-dvr audio - reload stream"),i.src=null!==(e=i.dataset.src)&&void 0!==e?e:"",i.type=null!==(t=i.dataset.type)&&void 0!==t?t:"";var r=i.src.replace(/[?&]bufferBuster=\d+/,"");return i.src=r+(r.includes("?")?"&":"?")+"bufferBuster="+Date.now(),this.emap.map(i,"error",this.onSourceError,this),void this.mediaElement.load()}}super.seekToLive()}onTimeUpdate(){v(this,r,Date.now(),"f")}updateTicker(){super.updateTicker(),this.model.playstate===o.a.PLAYSTATE_PLAYING&&Date.now()-m(this,r,"f")>2e3?(v(this,s,!0,"f"),this.bufferingEventHandler(!0)):m(this,s,"f")&&this.bufferingEventHandler(!1)}getClassTypeString(){return"HtmlAudioCtrl"}getDvrToDateSync(){return this.dvrUtil?this.dvrUtil.dvrToDateSync:null}getCurrentTime(){return this.dvrUtil?this.dvrUtil.getVideoTime():super.getCurrentTime()}getDuration(){return this.dvrUtil?this.dvrUtil.getCurrentDuration():super.getDuration()}setTimeByPercent(e){if(this.dvrUtil){var t=e/100*this.dvrUtil.getCurrentDuration();return e>99.9?this.dvrUtil.seekToLive():this.dvrUtil.seek(t),t}return super.setTimeByPercent(e)}setCurrentTime(e,t,i,r){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===r&&(r=!1),this.dvrUtil&&e>=this.dvrRelToUnix(0)&&(e=this.dvrUnixToRel(e));var s=Math.min(e,this.getDuration()-.1);return super.setCurrentTime(s,t,i,r)}getAudioTrack(){var e,t=this.player.currentAudio;return t?{id:"0",label:t.kind,enabled:!0,language:null!==(e=null==t?void 0:t.languageCode)&&void 0!==e?e:"de"}:null}getAudioTracks(){var e=this.getAudioTrack();return e?[e]:[]}setAudioTrack(e){}setAudioTrackById(e){}dispose(){super.dispose(),this.dvrUtil&&this.dvrUtil.dispose()}};r=new WeakMap,s=new WeakMap,c=u([d.a],c);var f={Generator:i(503).a,Controller:c};t.default=f}}]);