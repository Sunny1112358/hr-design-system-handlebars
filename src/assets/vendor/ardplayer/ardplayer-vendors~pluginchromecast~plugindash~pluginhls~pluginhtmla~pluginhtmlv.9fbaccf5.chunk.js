(window.webpackJsonpardplayer=window.webpackJsonpardplayer||[]).push([[0],{502:function(e,t,i){"use strict";i.d(t,"a",(function(){return w}));var s,a,r,n,h,l,o,d,p,u,m,c,E=i(7),v=i(10),T=i(8),g=i(4),f=i(28),y=i(13),_=i(169),S=i.n(_),k=i(2),A=i(9),L=function(e,t,i,s){var a,r=arguments.length,n=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var h=e.length-1;h>=0;h--)(a=e[h])&&(n=(r<3?a(n):r>3?a(t,i,n):a(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n},P=function(e,t,i,s){if("a"===i&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?s:"a"===i?s.call(e):s?s.value:t.get(e)},C=function(e,t,i,s,a){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!a)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?a.call(e,i):a?a.value=i:t.set(e,i),i},w=class{constructor(e,t){this.dvrUtil=null,this.minDisplayedLiveOffset=7,this.subtitleListeners=[],this.audioTrackListeners=[],this.audioTracks=[],this.audioTrack=null,s.set(this,0),a.set(this,0),r.set(this,!1),n.set(this,0),this._duration=0,this._dvrModeEnabled=!1,h.set(this,0),l.set(this,0),o.set(this,0),this.isAtEnd=!1,this._useAndroidInitialSeekFallback=!1,this.__seeking=!1,d.set(this,0),p.set(this,0),u.set(this,0),this._ready=!1,this._pendingSeek=0,m.set(this,-1),c.set(this,!1),this._dvrEnabled=!1,this._dvrIsLive=!1,this._dvrWindow=0,this.pinnedDvrSync=null,this.player=e,this.mediaElement=t,this.player.loop.dispatchEvent(E.a.EVENT_INIT,{}),this.player.loop.dispatchEvent(E.a.EVENT_STATUS_CHANGE,{status:"init"}),this.emap=new S.a,this.addEventListeners(),T.a.for(this.player).storageListeners.add(this),t instanceof HTMLMediaElement&&(t.textTracks.onaddtrack=e=>{this.onTextTracksChanged(e)},t.textTracks.onremovetrack=e=>{this.onTextTracksChanged(e)}),this.player.loop.dispatchEvent(E.a.EVENT_STATUS_CHANGE,{status:"ready"})}get model(){return this.player.model}get pc(){return this.model.playerConfig}get mc(){return this.model.mediaCollection}get vc(){return this.player.viewCtrl}get g(){return v.a.instance}get __cumulativeDrift(){return P(this,o,"f")}debugString(){return"none"}debugQualityLevel(){return[-1,1]}get subQualities(){return k.g.error("using base implementation for subQuality listing!"),[{level:-1,label:"Auto",width:-1}]}selectSubQuality(e){k.g.error("using base implementation for subQuality selection!")}get currentSubQuality(){return k.g.error("using base implementation for currentSubQuality!"),-1}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];k.g.log("["+this.getClassTypeString()+"]",...t)}onTextTracksChanged(e){this.subtitleListeners.forEach((t=>{t.onTextTracksChanged(e)}))}addSubtitleListener(e){this.subtitleListeners.includes(e)||this.subtitleListeners.push(e)}removeSubtitleListener(e){var t=this.subtitleListeners.indexOf(e);-1!==t&&(this.subtitleListeners=this.subtitleListeners.splice(t,1))}onAudioTracksChanged(){this.player.loop.dispatchEvent(E.a.AUDIO_TRACK_LIST_CHANGED,{audioTracks:this.audioTracks}),this.audioTrackListeners.forEach((e=>{e.onAudioTracksChanged(this.audioTracks)}))}addAudioTrackListener(e){this.audioTrackListeners.includes(e)||this.audioTrackListeners.push(e)}removeAudioTrackListener(e){var t=this.audioTrackListeners.indexOf(e);-1!==t&&(this.audioTrackListeners=this.audioTrackListeners.splice(t,1))}addEventListeners(){this.emap.map(this.mediaElement,"loadstart",this.onLoadStart,this),this.emap.map(this.mediaElement,"canplay",this.onCanPlay,this),this.emap.map(this.mediaElement,"play",this.onPlay,this),this.emap.map(this.mediaElement,"pause",this.onPause,this),this.emap.map(this.mediaElement,"error",this.onError,this),this.emap.map(this.mediaElement,"waiting",this.onWaiting,this),this.emap.map(this.mediaElement,"ended",this.onEnded,this),this.emap.map(this.mediaElement,"timeupdate",this.onTimeUpdate,this),this.emap.map(this.mediaElement,"seeking",this.onSeeking,this),this.emap.map(this.mediaElement,"seeked",this.onSeekEnd,this),this.emap.map(this.mediaElement,"loadedmetadata",this.onLoadedMetadata,this),this.emap.map(this.mediaElement,"loadeddata",this.onLoadedData,this),this.emap.map(this.mediaElement,"durationchange",this.onDurationChange,this),this.emap.map(this.mediaElement,"progress",this.onProgress,this),this.emap.map(this.mediaElement,"stalled",this.onStalled,this)}onLoadStart(){var e,t;v.a.instance.isAndroidDevice&&(null!==(t=null===(e=this.mediaElement)||void 0===e?void 0:e.currentSrc)&&void 0!==t?t:"").toLowerCase().indexOf(".m3u8")>0&&(this._useAndroidInitialSeekFallback=!0)}onCanPlay(){this.mediaElement instanceof HTMLMediaElement&&!(this.mediaElement.readyState>=this.mediaElement.HAVE_FUTURE_DATA)||this.bufferingEventHandler(!1)}onPlay(){this.startTicker(),this.playEventHandler(),this.bufferingEventHandler(!1)}onPause(e){this.pauseEventHandler(e,this.mediaElement.currentTime>=this.mediaElement.duration)}onError(e){this.handleError(e)}onWaiting(e){this.mediaElement instanceof HTMLMediaElement&&this.bufferingEventHandler(this.mediaElement.readyState<this.mediaElement.HAVE_FUTURE_DATA)}onEnded(e){this.stopTicker(),this.mediaElement.pause(),this.endEventHandler(e),this.onTimeChange(this._duration,0)}onTimeUpdate(e){this.onProgress(null)}onSeeking(){this.__seeking=!0,this.player.loop.dispatchEvent(E.a.EVENT_SEEK_START,{from:P(this,p,"f"),to:P(this,u,"f")}),this.bufferingEventHandler(!0)}onSeekEnd(e){this.__seeking=!1,C(this,d,1,"f"),this.player.loop.dispatchEvent(E.a.EVENT_SEEK_END,{position:this.getCurrentTime()}),this.bufferingEventHandler(!1)}isSeeking(){return this.__seeking}onLoadedMetadata(){this._ready=!0,this.evalInitialSeek()}onLoadedData(){this.evalInitialSeek()}onDurationChange(e){this._duration=this.mediaElement.duration,this._ready=!0,this.onProgress(null)}onProgress(e){var t;if(this.mediaElement&&("waiting"!==(null==e?void 0:e.type)||!(P(this,d,"f")>0||this.__seeking))){var i=this.getCurrentTime(),s=this.getDuration(),a=-1,r=null===(t=this.mediaElement)||void 0===t?void 0:t.buffered;if(r)for(var n=0;n<r.length;n++)r.start(n)<=i&&r.end(n)>=i&&(a=r.end(n));if(-1!==a){var h=Math.round(a/s*100);this.bufferProgressHandler(h)}}}onStalled(e){this.onProgress(e)}onSourceError(e){this.stopTicker(),this.handleError(e)}onTimeChange(e,t){this.updateDuration(e),this.updateTime(Math.max(t,0))}bufferingEventHandler(e){this.onProgress(null),e&&!this.isAtEnd?this.vc.showBufferingIndicator():this.vc.hideBufferingIndicator(),e!==P(this,r,"f")&&(C(this,r,e,"f"),this.player.loop.dispatchEvent(E.a.EVENT_BUFFERING,{isBuffering:e}))}bufferProgressHandler(e){this.vc.updateBufferProgress(e),C(this,n,e,"f")}playEventHandler(){this.stopOtherPlayingPlayers(),this.model.playstate=f.a.PLAYSTATE_PLAYING,this.player.loop.dispatchEvent(E.a.EVENT_STATUS_CHANGE,{status:"play"}),this.isAtEnd=!1,this.player.loop.dispatchEvent(E.a.EVENT_PLAY_STREAM,{}),this.player.pixelController._isReplay&&(this.player.pixelController.triggerPixel(g.a.SUPER_REPLAY),this.player.pixelController._isReplay=!1),this.player.pixelController.initialPlayTrigger()}pauseEventHandler(e,t){void 0===t&&(t=!1),this.model.playstate=f.a.PLAYSTATE_PAUSED,this.player.loop.dispatchEvent(E.a.EVENT_STATUS_CHANGE,{status:"pause"}),this.player.loop.dispatchEvent(E.a.EVENT_PAUSE_STREAM,{ended:t})}stopEventHandler(e){this.isAtEnd||(this.model.playstate=f.a.PLAYSTATE_STOPPED,this.player.loop.dispatchEvent(E.a.EVENT_STATUS_CHANGE,{status:"stop"}),this.bufferingEventHandler(!1),this.updateTicker(),this.stopTicker(),this.player.loop.dispatchEvent(E.a.EVENT_STOP_STREAM,{}))}endEventHandler(e){this.jumpToStart(),this.player.pixelController.triggerPixel(g.a.CLIP_ENDED),this.pauseEventHandler(e,!0),this.vc.hidePosterFrame(),this.mc.isLive||this.vc.showPlayAgain(),this.vc.hideBufferingIndicator(),this.vc.exitFullscreen(),this.player.pixelController&&(this.player.pixelController._isReplay=!0),this.isAtEnd=!0,this.player.loop.dispatchEvent(E.a.EVENT_END_STREAM,{})}evalInitialSeek(){if(this._pendingSeek>0){if(this.canSeek()){var e=this._pendingSeek;this._pendingSeek=0,this.setCurrentTime(e,!1,!1,!0)}}else this.play()}updateDuration(e){this.model.duration!==e&&(this.model.duration=e,this.player.loop.dispatchEvent(E.a.EVENT_UPDATE_STREAM_DURATION,{duration:e}))}restartMedia(){this.jumpToStart(),this.play()}resetStartAndEndTime(){this.pc.generic.vodStartSeconds=0,this.pc.generic.vodEndSeconds=0}updateTime(e){this.model.time=e,this.vc.updateTime(e),this.vc.updateTimeline(e,this.model.duration);var t=Date.now();if(t>=P(this,a,"f")+1e3){C(this,a,t,"f");var i=0,r=Math.round(this.model.duration),n=Math.round(e);this.vc._dvrEnabledAndRequested&&!this.vc._dvrIsLive&&(i=Math.min(Math.round(r-e),r)),this.player.pixelController.triggerCustomPixel(g.a.SUPER_PLAYHEAD_POSITION,!1,{currentTime:n,duration:r,dvrRelativeTime:-i})}var h=this.pc.generic.vodStartSeconds,l=this.pc.generic.vodEndSeconds;if(h>0&&e<h){var o=Math.round(e);Math.abs(P(this,s,"f")-o)>3&&(this.setCurrentTime(h,!1,!1,!0),C(this,s,o,"f"))}else l>0&&e>l&&(this.setCurrentTime(h,!1,!1,!0),this.pause());this.player.loop.dispatchEvent(E.a.EVENT_UPDATE_STREAM_TIME,{currentTime:e}),window.parent!==window&&T.a.AVAILABLE&&this.model.playstate===f.a.PLAYSTATE_PLAYING&&T.a.get(T.a.SUFFIX_GLOBAL,T.a.CURRENT_PLAYERID,!0)!==this.player.getId()&&this.pause()}removeEventListeners(){this.emap.all()}dispose(){this.log("dispose()"),this.removeEventListeners(),T.a.for(this.player).storageListeners.delete(this),this.mediaElement instanceof HTMLMediaElement&&(this.mediaElement.textTracks.onaddtrack=null,this.mediaElement.textTracks.onremovetrack=null),this.mediaElement.pause(),this.subtitleListeners=[],this.audioTrackListeners=[],this.stopTicker(),this.player.loop.dispatchEvent(E.a.EVENT_STOP_STREAM,{}),this.audioTracks=[],this.audioTrack=null}stopOtherPlayingPlayers(){T.a.add(T.a.SUFFIX_GLOBAL,T.a.CURRENT_PLAYERID,this.player.getId(),!0,!0)}onStorageValueChanged(e,t){e===T.a.CURRENT_PLAYERID&&"string"==typeof t&&this.isPlaying()&&t!==this.player.getId()&&this.pause()}loadStream(e){var t,i=1===this.model.playstate||3===this.model.playstate;if(this.model.playstate=f.a.PLAYSTATE_UNSPECIFIED,i||this.stopOtherPlayingPlayers(),this.player.loop.dispatchEvent(E.a.EVENT_LOAD_STREAM,{mediaStream:e}),this._pendingSeek=this.model.time,0===this._pendingSeek&&!this.mc.isLive){var s=this.pc.generic.vodInitialPlayheadSeconds;s<=0&&(s=this.pc.generic.vodStartSeconds),this._pendingSeek=s}if(this.mediaElement instanceof HTMLMediaElement)for(;this.mediaElement.children.length>0;)this.mediaElement.removeChild(this.mediaElement.children[0]);this.addSource(e);var a=null!==(t=this.pc.web.forcedVolumePercent)&&void 0!==t?t:-1,r=a>=0?a:T.a.volume(this.player),n=this.pc.generic.isMuted||T.a.muted(this.player);if(this.vc.setVolumeLevel(r,!0,n,!0,!0),i){var h=()=>{this.pause(),this.mediaElement.removeEventListener("canplay",h)};this.mediaElement.addEventListener("canplay",h)}this.mediaElement.load(),this.setPlaybackRate(this.model.playbackRate)}startTicker(){this.stopTicker(),C(this,m,this.player.safeInterval((()=>{this.updateTicker()}),500),"f")}stopTicker(){clearInterval(P(this,m,"f"))}updateTicker(){this.onTimeChange(this.getDuration(),this.getCurrentTime())}play(){var e;P(this,c,"f")?this.handleError():null===(e=this.mediaElement.play())||void 0===e||e.then((()=>{var e;try{this.player.checkState()}catch(e){return void k.g.warn("aborting async",e)}null===(e=this.vc)||void 0===e||e.hidePosterFrame(),this.startTicker()})).catch((e=>{var t,i,s;k.g.error(e);try{this.player.checkState()}catch(e){return void k.g.warn("aborting async",e)}null===(t=this.player)||void 0===t||t.loop.dispatchEvent(E.a.EVENT_AUTOPLAY_STREAM_PROHIBITED,{}),null===(i=this.vc)||void 0===i||i.showPlayBtn(),null===(s=this.vc)||void 0===s||s.showPosterFrame(),this.stopTicker()}))}pause(){this.mediaElement.pause()}togglePlay(){P(this,c,"f")?this.handleError():this.isPlaying()?this.pause():this.play()}isPlaying(){return this.model.playstate===f.a.PLAYSTATE_PLAYING}setVolume(e,t){void 0===t&&(t=!1),e>=0&&e<=100&&(t||T.a.setVolume(this.player,e),this.mediaElement.volume=e/100)}getVolume(){return T.a.volume(this.player)}setMuted(e,t){void 0===t&&(t=!1),this.mediaElement.muted=e,this.mediaElement instanceof HTMLMediaElement&&(e?this.mediaElement.setAttribute("muted","muted"):this.mediaElement.removeAttribute("muted")),t||T.a.setMuted(this.player,e)}setCurrentTime(e,t,i,s){void 0===t&&(t=!1),void 0===i&&(i=!1),void 0===s&&(s=!1),C(this,h,0,"f"),C(this,l,0,"f"),C(this,o,0,"f");var a=this.pc.generic.vodStartSeconds,r=this.pc.generic.vodEndSeconds;if(!s&&(a>0&&e<a||r>0&&e>r)&&this.resetStartAndEndTime(),this._ready){if(!this.canSeek())return;e=Math.max(0,e),this._pendingSeek=0,C(this,p,this.getCurrentTime(),"f"),C(this,u,e,"f");try{i||(null!==this.dvrUtil?this.dvrUtil.seek(e):this.mediaElement.currentTime=e)}catch(t){this._pendingSeek=e}}else this._pendingSeek=e;this.model.time=e,this.isAtEnd&&!t&&this.play()}seekToLive(){this.canSeek()&&this.setCurrentTime(this.getDuration())}setPlaybackRate(e){this.model.playbackRate=e,this.mediaElement.playbackRate=e,this.player.loop.dispatchEvent(E.a.PLAYBACK_RATE_CHANGE,{rate:e})}getDvrToDateSync(){return null}getSmoothDvrToDateSync(e){return e?(null==this.pinnedDvrSync&&(this.pinnedDvrSync=this.getDvrToDateSync()),this.pinnedDvrSync):this.getDvrToDateSync()}dvrRelToUnix(e,t){void 0===t&&(t=!1);var i=this.getSmoothDvrToDateSync(t);if(null!==i){if(t)return this.__dvrRelToUnixRaw(e,i)<<0;var s=P(this,o,"f");return this.isPlaying()?0!==P(this,h,"f")&&(C(this,o,P(this,o,"f")+(this.__dvrRelToUnixRaw(this.getCurrentTime(),i)-P(this,h,"f")),"f"),C(this,h,0,"f"),C(this,l,0,"f")):0===P(this,l,"f")?(C(this,l,this.getCurrentTime(),"f"),C(this,h,this.__dvrRelToUnixRaw(P(this,l,"f"),i),"f")):s+=this.__dvrRelToUnixRaw(this.getCurrentTime(),i)-P(this,h,"f"),this.__dvrRelToUnixRaw(e,i)-s<<0}return t||(C(this,h,0,"f"),C(this,l,0,"f"),C(this,o,0,"f")),0}__dvrRelToUnixRaw(e,t){var i=t.rel-e,s=Date.now()-t.at;return(t.real+s)/1e3-i}dvrUnixToRel(e){return e-this.dvrRelToUnix(0)}canSeek(){return this.mediaElement instanceof HTMLMediaElement&&this.mediaElement.seekable.length>0}getPercentBuffered(){return P(this,n,"f")}getCurrentTime(){return this._pendingSeek>0?this._pendingSeek:this.mediaElement.currentTime}setTimeByPercent(e){var t=e/100*this.getDuration();return this.setCurrentTime(t),t}getDuration(){var e=this.mediaElement.duration;return isNaN(e)?0:e}stop(e){this.pause(),this.jumpToStart(),this.stopEventHandler(e)}jumpToStart(){this.setCurrentTime(0,!0)}onDVRCallback(e,t,i){this._dvrEnabled=e,this._dvrWindow=t,this._dvrIsLive=i,this.player.viewCtrl.onDVRCallback(this._dvrEnabled,this._dvrWindow,this._dvrIsLive),this.player.loop.dispatchEvent(E.a.EVENT_DVR_CHANGE,{dvrEnabled:this._dvrEnabled,dvrIsLive:this._dvrIsLive,dvrWindow:this._dvrWindow})}getAudioTracks(){return[]}setAudioTrack(e){}setAudioTrackById(e){}getAudioTrack(){return null}handleError(e){var t;this.stopTicker(),e&&k.g.error(e),C(this,c,!0,"f"),null===(t=this.player.errorCtrl)||void 0===t||t.throwStreamError(y.a.ERROR_PLAYBACK)}};s=new WeakMap,a=new WeakMap,r=new WeakMap,n=new WeakMap,h=new WeakMap,l=new WeakMap,o=new WeakMap,d=new WeakMap,p=new WeakMap,u=new WeakMap,m=new WeakMap,c=new WeakMap,w=L([A.a],w)},503:function(e,t,i){"use strict";i.d(t,"a",(function(){return h})),i.d(t,"b",(function(){return l}));var s=i(39),a=i(13),r=i(9),n=function(e,t,i,s){var a,r=arguments.length,n=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,i):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,s);else for(var h=e.length-1;h>=0;h--)(a=e[h])&&(n=(r<3?a(n):r>3?a(t,i,n):a(t,i))||n);return r>3&&n&&Object.defineProperty(t,i,n),n},h=class{execute(e,t){var i,r,n;n=e.model.mediaCollection.streams.some((e=>!e.isAudioOnly))?s.a.createVideo(e):s.a.createAudio(e);try{null===(i=e.viewCtrl)||void 0===i||i.removeMediaCanvas()}catch(e){}null!==n?t(n):null===(r=e.errorCtrl)||void 0===r||r.throwError(a.a.MEDIACANVAS_COULD_NOT_GENERATED,!0)}};h=n([r.a],h);var l=class{execute(e,t){var i,r,n=s.a.createVideo(e);try{null===(i=e.viewCtrl)||void 0===i||i.removeMediaCanvas()}catch(e){}null!==n?t(n):null===(r=e.errorCtrl)||void 0===r||r.throwError(a.a.MEDIACANVAS_COULD_NOT_GENERATED,!0)}};l=n([r.a],l)}}]);