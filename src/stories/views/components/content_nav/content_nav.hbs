{{#with this.contentNav}}
    {{#if this.isList}}
        <nav class="c-content-nav {{../_modifier}} ">
            {{> components/content_nav/content_nav_list _teasersize=../_teasersize}}
        </nav>
    {{else}}
        {{#>components/base/menu/dropdown
                     _componentClass="c-content-nav"
                     _teasersize=../_teasersize
                     _iconOpen="arrow-down"
                     _iconClose="arrow-up"
                     _buttonText=(defaultIfEmpty this.selectedItem.title ../../title)
                     _hiddenNavigationLabel="Unternavigation"
        }} 
            <div x-on:click.outside ="open = false;" class="flex flex-wrap {{#if this.isAutosuggest}} autoSuggest js-load{{/if}}"
                {{#if this.isAutosuggest}}
                    data-hr-auto-suggest='{"filterGroupsSelector":".c-content-nav__group", "filterElementSelector":".c-content-nav__item", "filterTextSelector":".js-title", "inputElementSelector":".js-autosuggest-input", "matchedClass":"", "unmatchedClass":"hidden"}'>
                
                    <div class="flex w-full h-10 my-2 c-content-nav__autosuggest border-blue-congress align-center">
                        <input x-ref="autosuggestInput" class="w-full pl-4 focus:outline-none js-autosuggest-input" type="text"
                                placeholder="Eintrag filtern"/>
                    </div>
                {{/if}}

                {{> components/content_nav/content_nav_list  _teasersize=_teasersize}}

            </div>
        {{/components/base/menu/dropdown}}

    {{/if}}
{{/with}}

<script type="text/javascript">

document.addEventListener('alpine:init', () => {
    
    Alpine.data('contentNavigationHandler', () =>({    
        open: false,
        
        init(){  
        },

        shouldDropdownBeShown(teasersize,isDropdown,isMixed){  
            if (isDropdown){
                return true
            } 

            if (isMixed) {
                if (teasersize === 100 || teasersize === 66 ) {
                    if (this.$screen('lg')) return false
                    if (this.$screen('md')) return false
                    if (this.$screen('xs')) return true
                } else if (teasersize === 33 || teasersize === 25 || teasersize === 50) { 
                    return true 
                }
            }
        },

        shouldContentBeShown(teasersize,isDropdown,isMixed){
            if (isDropdown){                   
                return this.open                
            }  
            if (isMixed) {
                if (teasersize === 100 || teasersize === 66 ) {
                    if (this.$screen('lg')) return true
                    if (this.$screen('md')) return true
                    if (this.$screen('xs')) return this.open
                } else if (teasersize === 33 || teasersize === 25 || teasersize === 50) { 
                    return this.open
                }
            }

            return false 
        }
    }))   
})
</script>